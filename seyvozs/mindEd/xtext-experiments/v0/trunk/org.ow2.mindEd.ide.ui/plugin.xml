<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>

   <extension
         point="org.eclipse.ui.newWizards">
      <category
            name="Mind"
            id="org.ow2.mindEd.ide.ui">
      </category>
      <wizard
            category="org.ow2.mindEd.ide.ui"
            class="org.ow2.mindEd.ide.ui.wizards.MindProjectWizard"
            icon="icons/MindProject.gif"
            id="org.ow2.mindEd.ide.ui.wizards.MindProjectWizard"
            name="MindEd Project"
            project="true">
      </wizard>
      <wizard
            category="org.ow2.mindEd.ide.ui"
            class="org.ow2.mindEd.ide.ui.wizards.ComponentNewWizard"
            icon="icons/primitive.png"
            id="org.ow2.mindEd.ide.ui.wizards.ComponentNewWizard"
            name="Mind ADL Component">
      </wizard>
      <wizard
            category="org.ow2.mindEd.ide.ui"
            class="org.ow2.mindEd.ide.ui.wizards.MindPackageWizard"
            icon="icons/package.gif"
            id="org.ow2.mindEd.ide.ui.wizards.MindPackageWizard"
            name="Mind package">
      </wizard>
   </extension>
   <extension
         point="org.eclipse.ui.popupMenus">
      <objectContribution
            adaptable="true"
            objectClass="org.eclipse.core.resources.IProject"
            nameFilter="*"
            id="org.ow2.mindEd.ide.core.build.ui.contribution1">
         <action
               label="Add/Remove Mind Nature"
               class="org.ow2.mindEd.ide.ui.AddMINDNatureAction"
               menubarPath="additions"
               enablesFor="+"
               id="org.ow2.mindEd.ide.core.build.ui.addRemoveNatureAction">
         </action>
         <action
               class="org.ow2.mindEd.ide.ui.BuildAction"
               id="org.ow2.mindEd.ide.ui.action1"
               label="Build">
         </action>
      </objectContribution>
   </extension>
   <extension
         point="org.eclipse.ui.views">
      <category
            id="org.ow2.mindEd.ide.ui.views.mind"
            name="Mind Category">
      </category>
      <view
            category="org.ow2.mindEd.ide.ui.views.mind"
            class="org.eclipse.ui.navigator.CommonNavigator"
            icon="icons/sample.gif"
            id="org.ow2.mindEd.ide.ui.view"
            name="Mind Navigator">
      </view>
   </extension>
   <extension
         point="org.eclipse.help.contexts">
      <contexts
            file="contexts.xml">
      </contexts>
   </extension>
   <extension
         point="org.eclipse.ui.propertyPages">
      <page
            class="org.ow2.mindEd.ide.ui.properties.MindProjectPropertyPage"
            id="org.ow2.mindEd.ide.ui.properties.MindProjectPropertyPage"
            name="Mind Project Page"
            nameFilter="*">
         <enabledWhen>
            <instanceof
                  value="org.eclipse.core.resources.IProject">
            </instanceof>
         </enabledWhen>
         <filter
               name="nature"
               value="org.ow2.mindEd.ide.core.nature">
         </filter>
      </page>
   </extension>
   <extension
         point="org.eclipse.help.contexts">
      <contexts
            file="org.ow2.mindEd.ide.ui.contexts1">
      </contexts>
   </extension>
   <extension
         point="org.eclipse.ui.navigator.viewer">
      <viewerActionBinding
            viewerId="org.ow2.mindEd.ide.ui.view">
         <includes>
            <actionExtension
                  pattern="org.eclipse.ui.navigator.resources.*">
            </actionExtension>
            <actionExtension
                  pattern="org.eclipse.ui.navigator.resources.NewActions">
            </actionExtension>
            <actionExtension
                  pattern="org.ow2.mindEd.ide.ui.*">
            </actionExtension>
         </includes>
      </viewerActionBinding>
      <viewerContentBinding
            viewerId="org.ow2.mindEd.ide.ui.view">
         <includes>
            <contentExtension
                  isRoot="true"
                  pattern="org.ow2.mindEd.ide.ui.navigatorContent">
            </contentExtension>
            <contentExtension
                  pattern="org.eclipse.ui.navigator.resourceContent">
            </contentExtension>
            <contentExtension
                  pattern="org.eclipse.ui.navigator.resources.filters.*">
            </contentExtension>
            <contentExtension
                  pattern="org.eclipse.ui.navigator.resources.linkHelper">
            </contentExtension>
            <contentExtension
                  pattern="org.eclipse.ui.navigator.resources.workingSets">
            </contentExtension>
         </includes>
      </viewerContentBinding>
      <viewerContentBinding
            viewerId="org.eclipse.ui.navigator.ProjectExplorer">
         <includes>
            <contentExtension
                  isRoot="false"
                  pattern="org.ow2.mindEd.ide.ui.navigatorContentEclipse">
            </contentExtension>
         </includes>
      </viewerContentBinding>
      <viewerActionBinding
            viewerId="org.eclipse.ui.navigator.ProjectExplorer">
         <includes>
            <actionExtension
                  pattern="org.ow2.mindEd.ide.ui.*">
            </actionExtension>
         </includes>
      </viewerActionBinding>
   </extension>
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension
            targetID="org.eclipse.ui.resourcePerspective">
         <view
               id="org.ow2.mindEd.ide.ui.view"
               ratio="0.5"
               relationship="stack"
               relative="org.eclipse.ui.navigator.ProjectExplorer">
         </view>
      </perspectiveExtension>
   </extension>
   <extension
         point="org.eclipse.ui.navigator.navigatorContent">
      <navigatorContent
            activeByDefault="true"
            contentProvider="org.ow2.mindEd.ide.ui.navigator.MindContentProvider"
            id="org.ow2.mindEd.ide.ui.navigatorContent"
            labelProvider="org.ow2.mindEd.ide.ui.navigator.MindLabelProvider"
            name="Mind Content"
            priority="highest">
         <possibleChildren>
            <or>
               <instanceof
                     value="org.ow2.mindEd.ide.model.MindObject">
               </instanceof>
               <instanceof
                     value="org.eclipse.core.resources.IWorkspaceRoot">
               </instanceof>
               <instanceof
                     value="org.eclipse.cdt.core.model.ICContainer">
               </instanceof>
               <instanceof
                     value="org.eclipse.core.resources.IProject">
               </instanceof>
            </or></possibleChildren>
         <commonWizard
               type="new"
               wizardId="org.ow2.mindEd.ide.ui.wizards.ComponentNewWizard">
            <enablement>
               <instanceof
                     value="org.ow2.mindEd.ide.model.MindObject">
               </instanceof></enablement>
         </commonWizard>
         <commonWizard
               type="new"
               wizardId="org.ow2.mindEd.ide.ui.wizards.MindProjectWizard">
            <enablement>
               <or>
                  <instanceof
                  value="org.eclipse.core.resources.IWorkspaceRoot"/>
                  <instanceof
                        value="org.ow2.mindEd.ide.core.MindModel">
                  </instanceof>
                  <instanceof
                        value="org.ow2.mindEd.ide.model.MindRepo">
                  </instanceof>
                  <instanceof
                        value="org.ow2.mindEd.ide.model.MindRootSrc">
                  </instanceof>
                  <instanceof
                        value="org.ow2.mindEd.ide.model.MindProject">
                  </instanceof>
                  <instanceof
                        value="org.ow2.mindEd.ide.model.MindPackage">
                  </instanceof>
                  <adapt type="java.util.Collection"> 
							<count value="0" />
				  </adapt>
                  <instanceof
                        value="org.eclipse.core.resources.IProject">
                  </instanceof>
               </or></enablement>
         </commonWizard>
         <commonWizard
               type="new"
               wizardId="org.ow2.mindEd.ide.ui.wizards.MindPackageWizard">
            <enablement>
               <instanceof
                     value="org.ow2.mindEd.ide.model.MindObject">
               </instanceof>
            </enablement>
         </commonWizard>
         <enablement>
            <or>
            <instanceof
                  value="org.ow2.mindEd.ide.model.MindObject">
            </instanceof>
            <instanceof
                  value="org.eclipse.core.resources.IWorkspaceRoot">
            </instanceof>
               <instanceof
                     value="org.eclipse.core.resources.IResource">
               </instanceof>
            </or>
         </enablement>
         <triggerPoints>
            <or>
               <instanceof
                     value="org.ow2.mindEd.ide.model.MindObject">
               </instanceof>
               <instanceof
                     value="org.eclipse.core.resources.IWorkspaceRoot">
               </instanceof>
               <and>
                  <instanceof
                        value="org.eclipse.core.resources.IProject">
                  </instanceof>
                  <adapt
                        type="org.ow2.mindEd.ide.model.MindProject">
                  </adapt>
               </and>
               <instanceof
                     value="org.eclipse.cdt.core.model.ICContainer">
               </instanceof>
               <instanceof
                     value="org.eclipse.core.resources.IProject">
               </instanceof>
            </or>
         </triggerPoints>
         <dropAssistant
               class="org.ow2.mindEd.ide.ui.MindEdDropAdapterAssistant"
               id="org.ow2.mindEd.ide.ui.dropAssistant2">
            <possibleDropTargets>
               <or>
                  <instanceof
                        value="org.ow2.mindEd.ide.model.MindFile">
                  </instanceof>
                  <adapt
                        type="org.ow2.mindEd.ide.model.MindFile">
                  </adapt>
               </or></possibleDropTargets>
         </dropAssistant>
      </navigatorContent>
      <actionProvider
            class="org.ow2.mindEd.ide.ui.navigator.MindPathActionProvider"
            id="org.ow2.mindEd.ide.ui.navigator.MindPathActionProvider"
            priority="high">
         <enablement>
            <or>
               <instanceof
                     value="org.ow2.mindEd.ide.edit.custom.MindPathItemProvider">
               </instanceof>
               <instanceof
                     value="org.ow2.mindEd.ide.edit.custom.MindPathEntryItemProviderCustom">
               </instanceof>
               <instanceof
                     value="org.ow2.mindEd.ide.model.MindPathEntry">
               </instanceof>
               <instanceof
                     value="org.ow2.mindEd.ide.model.MindProject">
               </instanceof>
               <adapt
                     type="org.eclipse.core.resources.IProject">
                  <test
                        property="org.eclipse.core.resources.projectNature"
                        value="org.ow2.mindEd.ide.core.nature">
                  </test>
               </adapt>
            </or>
         </enablement>
      </actionProvider>
      <navigatorContent
            activeByDefault="true"
            contentProvider="org.ow2.mindEd.ide.ui.navigator.MindContentResources"
            icon="icons/MindProject.gif"
            id="org.ow2.mindEd.ide.ui.navigatorContentEclipse"
            labelProvider="org.ow2.mindEd.ide.ui.navigator.MindLabelProvider"
            name="Mind Content"
            priority="high">
         <triggerPoints>
				<or>
					<adapt type="org.eclipse.core.resources.IProject" >
						<test property="org.eclipse.core.resources.projectNature" value="org.ow2.mindEd.ide.core.nature"/>
					</adapt>
					<instanceof	value="org.eclipse.core.resources.IResource" />
					<instanceof value="org.ow2.mindEd.ide.model.MindObject" />
 				</or>
			</triggerPoints>
        
         <commonWizard
               type="new"
               wizardId="org.ow2.mindEd.ide.ui.wizards.MindProjectWizard">
            <enablement>
               <or>
                  <instanceof
                        value="org.eclipse.core.resources.IWorkspaceRoot">
                  </instanceof>
                  <instanceof
                        value="org.ow2.mindEd.ide.model.MindRootSrc">
                  </instanceof>
                  <instanceof
                        value="org.ow2.mindEd.ide.model.MindProject">
                  </instanceof>
                  <instanceof
                        value="org.ow2.mindEd.ide.model.MindPackage">
                  </instanceof>
                  <adapt
                        type="java.util.Collection">
                     <count
                           value="0">
                     </count>
                  </adapt>
                  <instanceof
                        value="org.ow2.mindEd.ide.model.MindAllRepo">
                  </instanceof>
                  <and>
                     <instanceof
                           value="org.ow2.mindEd.ide.core.MindModel">
                     </instanceof>
                     <test
                           args="isWorkspaceModel"
                           property="org.ow2.mindEd.ide.ui.isWorkspaceModel"
                           value="true">
                     </test>
                  </and>
               </or>
            </enablement>
         </commonWizard>
         <commonWizard
               type="new"
               wizardId="org.ow2.mindEd.ide.ui.wizards.MindPackageWizard">
            <enablement>
               <or>
                  <instanceof
                        value="org.ow2.mindEd.ide.model.MindObject">
                  </instanceof>
                  <instanceof
                        value="org.eclipse.core.resources.IResource">
                  </instanceof>
                  <instanceof
                        value="org.eclipse.cdt.core.model.ICElement">
                  </instanceof>
               </or>
            </enablement>
         </commonWizard>
         <commonWizard
               type="new"
               wizardId="org.ow2.mindEd.ide.ui.wizards.ComponentNewWizard">
            <enablement>
               <or>
                  <instanceof
                        value="org.ow2.mindEd.ide.model.MindObject">
                  </instanceof>
                  <instanceof
                        value="org.eclipse.core.resources.IResource">
                  </instanceof>
                  <instanceof
                        value="org.eclipse.cdt.core.model.ICElement">
                  </instanceof>
               </or>
            </enablement>
         </commonWizard> <possibleChildren>
            <or>
               <instanceof
                     value="org.eclipse.core.resources.IResource">
               </instanceof>
               <instanceof
                     value="org.ow2.mindEd.ide.model.MindObject">
               </instanceof>
               <instanceof
                     value="org.ow2.mindEd.ide.edit.custom.MindPathItemProvider">
               </instanceof>
            <instanceof
           value="org.eclipse.jdt.internal.ui.packageview.PackageFragmentRootContainer">
     
               </instanceof>
            </or>
         </possibleChildren>
         <enablement>
            <or>
               <instanceof
                     value="org.eclipse.core.resources.IProject">
               </instanceof>
            </or>
         </enablement>
         <dropAssistant
               class="org.ow2.mindEd.ide.ui.MindEdDropAdapterAssistant"
               id="org.ow2.mindEd.ide.ui.dropAssistant1">
            <possibleDropTargets>
               <or>
                  <instanceof
                        value="org.ow2.mindEd.ide.model.MindFile">
                  </instanceof>
               </or></possibleDropTargets>
         </dropAssistant>
      </navigatorContent>
      <actionProvider
            class="org.ow2.mindEd.ide.ui.navigator.MindEditActionProvider"
            id="org.ow2.mindEd.ide.ui.navigator.MindEditActionProvider"
            priority="high">
         <enablement>
            <or>
               <instanceof
                     value="org.ow2.mindEd.ide.model.MindObject">
               </instanceof>
               <adapt
                     type="org.eclipse.core.resources.IProject">
                  <test
                        property="org.eclipse.core.resources.projectNature"
                        value="org.ow2.mindEd.ide.core.nature">
                  </test>
               </adapt>
               <instanceof
                     value="org.eclipse.core.resources.IResource">
               </instanceof>
            </or>
         </enablement>
      </actionProvider>
      <actionProvider
            appearsBefore="org.eclipse.ui.navigator.resources.OpenActions"
            class="org.ow2.mindEd.ide.ui.navigator.MindOpenActionProvider"
            id="org.ow2.mindEd.ide.ui.navigator.MindOpenActions"
            overrides="org.eclipse.ui.navigator.resources.OpenActions"
            priority="high">
         <enablement>
            <instanceof
                  value="org.ow2.mindEd.ide.model.MindObject">
            </instanceof></enablement>
      </actionProvider>
   </extension>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            class="org.ow2.mindEd.ide.ui.preferences.MindcPreferencePage"
            id="org.ow2.mindEd.ide.ui.preferences.MindcPreferencePage"
            name="Mindc Location">
      </page>
   </extension>
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension
            targetID="org.eclipse.jdt.ui.JavaPerspective">
         <newWizardShortcut
               id="org.ow2.mindEd.ide.ui.wizards.MindProjectWizard">
         </newWizardShortcut>
         <newWizardShortcut
               id="org.ow2.mindEd.ide.ui.wizards.MindPackageWizard">
         </newWizardShortcut>
         <newWizardShortcut
               id="org.ow2.mindEd.ide.ui.wizards.ComponentNewWizard">
         </newWizardShortcut>
         <view
               id="org.ow2.mindEd.ide.ui.view"
               minimized="false"
               relationship="stack"
               relative="org.eclipse.jdt.ui.PackageExplorer">
         </view>
      </perspectiveExtension>
      <perspectiveExtension
            targetID="org.eclipse.ui.resourcePerspective">
         <newWizardShortcut
               id="org.ow2.mindEd.ide.ui.wizards.MindProjectWizard">
         </newWizardShortcut>
         <newWizardShortcut
               id="org.ow2.mindEd.ide.ui.wizards.MindPackageWizard">
         </newWizardShortcut>
         <newWizardShortcut
               id="org.ow2.mindEd.ide.ui.wizards.ComponentNewWizard">
         </newWizardShortcut>
         <view
               id="org.ow2.mindEd.ide.ui.view"
               minimized="false"
               relationship="stack"
               relative="org.eclipse.ui.views.ResourceNavigator">
         </view>
      </perspectiveExtension>
      <perspectiveExtension
            targetID="org.eclipse.cdt.ui.CPerspective">
         <newWizardShortcut
               id="org.ow2.mindEd.ide.ui.wizards.MindProjectWizard">
         </newWizardShortcut>
         <newWizardShortcut
               id="org.ow2.mindEd.ide.ui.wizards.MindPackageWizard">
         </newWizardShortcut>
         <newWizardShortcut
               id="org.ow2.mindEd.ide.ui.wizards.ComponentNewWizard">
         </newWizardShortcut>
         <view
               id="org.ow2.mindEd.ide.ui.view"
               minimized="false"
               relationship="stack"
               relative="org.eclipse.ui.navigator.ProjectExplorer">
         </view>
      </perspectiveExtension>
   </extension>
   <extension
         point="org.eclipse.ui.exportWizards">
      <category
            id="org.ow2.mindEd.ide.ui.category.mindEd"
            name="MindEd">
      </category>
      <wizard
            category="org.ow2.mindEd.ide.ui.category.mindEd"
            class="org.ow2.mindEd.ide.ui.wizards.ExportLibWizard"
            id="org.ow2.mindEd.ide.ui.wizardlib"
            name="Export mindProject to sourceLib">
      </wizard>
   </extension>
   <extension
         point="org.eclipse.core.expressions.propertyTesters">
      <propertyTester
            class="org.ow2.mindEd.ide.ui.PropertyTester"
            id="org.ow2.mindEd.ide.ui.isWorkspaceModel"
            namespace="org.ow2.mindEd.ide.ui"
            properties="isWorkspaceModel"
            type="java.lang.Boolean">
      </propertyTester>
   </extension>
</plugin>
